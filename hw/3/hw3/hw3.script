Script started on Fri 29 Jan 2016 02:10:55 AM PST
]0;ttang1@lana-kane:~/hw3[?1034h$make clean
rm *.o
rm: cannot remove `*.o': No such file or directory
make: *** [clean] Error 1
]0;ttang1@lana-kane:~/hw3$make
gcc -ggdb -c main.c
gcc -ggdb -c my_ls.c
gcc my_ls.o main.o -o my_ls
]0;ttang1@lana-kane:~/hw3$gdb my_ls
[?1034hGNU gdb (GDB) Red Hat Enterprise Linux (7.2-60.el6_4.1)
Copyright (C) 2010 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-redhat-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /home/ttang1/hw3/my_ls...done.
(gdb) run
Starting program: /home/ttang1/hw3/my_ls 
warning: the debug information found in "/usr/lib/debug//lib64/ld-2.12.so.debug" does not match "/lib64/ld-linux-x86-64.so.2" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug/lib64/ld-2.12.so.debug" does not match "/lib64/ld-linux-x86-64.so.2" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug//lib64/libc-2.12.so.debug" does not match "/lib64/libc.so.6" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug/lib64/libc-2.12.so.debug" does not match "/lib64/libc.so.6" (CRC mismatch).

-rw-r--r--  1 ttang1  ugrad   143 Jan 29  2:10 makefile
-rw-r--r--  1 ttang1  ugrad   240 Jan 29  2:07 main.c
-rw-r--r--  1 ttang1  ugrad  2058 Jan 29  2:07 my_ls.c
-rwx------  1 ttang1  ugrad  14426 Jan 29  2:11 my_ls
-rw-------  1 ttang1  ugrad     0 Jan 29  2:10 hw3.script
-rw-r--r--  1 ttang1  ugrad   233 Jan 29  0:05 my_ls.h
drwx------  3 ttang1  ugrad  2048 Jan 29  0:12 folder1
-rw-------  1 ttang1  ugrad  3952 Jan 29  2:11 main.o
-rw-------  1 ttang1  ugrad  12032 Jan 29  2:11 my_ls.o

./folder1:
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 folder2
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 file1
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 file2

./folder1/folder2:
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 anotherfile1
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 anotherfile2

Program exited normally.
Missing separate debuginfos, use: debuginfo-install glibc-2.12-1.166.el6_7.3.x86_64
(gdb) lie[Kst
1	#include <stdio.h>
2	#include <string.h>
3	#include <sys/stat.h>
4	#include <dirent.h>
5	#include "my_ls.h"
6	
7	int main(int argc, char* argv[])
8	{
9		char* filename = argv[1];
10		
(gdb) 
11		if (filename == NULL)
12			filename = ".";
13		
14		do_ls(filename);
15	
16		return 0;
17	}
(gdb) 
Line number 18 out of range; main.c has 17 lines.
(gdb) brek[Kak 14
Breakpoint 1 at 0x400c55: file main.c, line 14.
(gdb) run f[Kfolder1/
Starting program: /home/ttang1/hw3/my_ls folder1/
warning: the debug information found in "/usr/lib/debug//lib64/ld-2.12.so.debug" does not match "/lib64/ld-linux-x86-64.so.2" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug/lib64/ld-2.12.so.debug" does not match "/lib64/ld-linux-x86-64.so.2" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug//lib64/libc-2.12.so.debug" does not match "/lib64/libc.so.6" (CRC mismatch).

warning: the debug information found in "/usr/lib/debug/lib64/libc-2.12.so.debug" does not match "/lib64/libc.so.6" (CRC mismatch).


Breakpoint 1, main (argc=2, argv=0x7fffffffe198) at main.c:14
14		do_ls(filename);
(gdb) step
do_ls (dirName=0x7fffffffe49a "folder1/") at my_ls.c:65
65		int dirCount = 0;
(gdb) step
68		if (!(dir = opendir(dirName)))
(gdb) step
72		while ((entry = readdir(dir)))
(gdb) step
74			stat(entry->d_name, &ent_stat);
(gdb) p
The history is empty.
(gdb) next
75			if (strcmp(entry->d_name, ".") != 0 && strcmp(entry->d_name, "..") != 0)
(gdb) p
The history is empty.
(gdb) next
79			if (entry->d_type == DT_DIR && strcmp(entry->d_name, "..") != 0 && strcmp(entry->d_name, ".") != 0)
(gdb) next
74			stat(entry->d_name, &ent_stat);
(gdb) continue
Continuing.
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 folder2
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 file1
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 file2

folder1//folder2:
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 anotherfile1
drwx--x--x 10 ttang1  ugrad  4096 Jan 29  2:10 anotherfile2

Program exited normally.
(gdb) quit
]0;ttang1@lana-kane:~/hw3$make clean
rm *.o
]0;ttang1@lana-kane:~/hw3$cat makefile

my_ls: main.o my_ls.o 
	gcc my_ls.o main.o -o my_ls
main.o: main.c
	gcc -ggdb -c main.c
my_ls.o: my_ls.c
	gcc -ggdb -c my_ls.c
clean:
	rm *.o
]0;ttang1@lana-kane:~/hw3$exit
exit

Script done on Fri 29 Jan 2016 02:16:38 AM PST
